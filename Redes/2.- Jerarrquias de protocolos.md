## Que es un protocolo?
Un **protocolo** es un acuerdo entre las partes que se comunican para establecer la forma en que se llevará a cabo esa comunicación. Como analogía, cuando a un hombre le presentan una mujer, ella puede elegir si extiende su mano o no. Él a su vez, puede decidir entre estrechar la mano o besarla, dependiendo por ejemplo de si ella es una abogada estadounidense en una reunión de negocios, o una princesa europea en un baile formal. Si se viola el protocolo se hará más difícil la comunicación, si no es que se vuelve imposible.

Para reducir la complejidad de su diseño, la mayoría de las redes se organizan como una pila de capas o niveles, cada una construida a partir de la que está abajo. El número de capas, su nombre, el contenido de cada una y su función difieren de una red a otra. El propósito de cada capa es ofrecer ciertos servicios a las capas superiores, mientras les oculta los detalles relacionados con la forma en que se implementan los servicios ofrecidos. 

Las entidades que conforman las correspondientes capas en diferentes máquinas se llaman iguales (peers). Los iguales pueden ser procesos de software, dispositivos de hardware o incluso seres humanos. En otras palabras, los iguales son los que se comunican a través del protocolo.
![[Pasted image 20240530022653.png]]
Debajo de la capa 1 se encuentra el medio físico a través del cual ocurre la comunicación real. En la figura 1-13 se muestra la comunicación virtual con líneas punteadas y la comunicación física con líneas sólidas.

A un conjunto de capas y protocolos se le conoce como **arquitectura de red**. La especificación de
una arquitectura debe contener suficiente información como para permitir que un programador escriba el programa o construya el hardware para cada capa, de manera que se cumpla correctamente el protocolo apropiado. Ni los detalles de la implementación ni la especificación de las interfaces forman parte de la arquitectura, ya que están ocultas dentro de las máquinas y no se pueden ver desde el exterior. Ni siquiera es necesario que las interfaces en todas las máquinas de una red sean iguales, siempre y cuando cada máquina pueda utilizar todos los protocolos correctamente. La lista de los protocolos utilizados por cierto sistema, un protocolo por capa, se le conoce como **pila de protocolos**.

## Ejemplo de un protocolo de 5 capas
Un proceso de aplicación que se ejecuta en la capa 5 produce un mensaje,
M, y lo pasa a la capa 4 para que lo transmita. La capa 4 coloca un encabezado al frente del mensaje para identificarlo y pasa el resultado a la capa 3. El encabezado incluye información de control, como direcciones, para permitir que la capa 4 en la máquina de destino entregue el mensaje. Otros ejemplos de la información de control que se utiliza en algunas capas son los números de secuencia (en caso de que la capa inferior no preserve el orden del mensaje), los tamaños y los tiempos. En muchas redes no se impone un límite en cuanto al tamaño de los mensajes que se transmiten en el protocolo de la capa 4, pero casi siempre hay un límite impuesto por el protocolo de la capa 3. En consecuencia, la capa 3 debe descomponer los mensajes entrantes en unidades más pequeñas llamadas paquetes, y colocar un encabezado al frente de cada paquete. En este ejemplo, M se divide en dos partes: M1 y M2, los cuales se transmitirán por separado.

La capa 3 decide cuál de las líneas salientes usar y pasa los paquetes a la capa 2; esta última agrega a cada pieza no sólo un encabezado, sino también un terminador, y pasa la unidad restante a la capa 1 para su transmisión física. En la máquina receptora el mensaje pasa hacia arriba, de capa en capa, y los enca- bezados se van eliminando a medida que progresa. Ninguno de los encabezados para las capas inferiores a n se pasa a la capa n.
Lo importante a entender sobre la figura 1-15 es la relación entre la comunicación virtual y real, además de la diferencia entre los protocolos y las interfaces. Por ejemplo, los procesos de iguales en la capa 4piensan conceptualmente en su comunicación como si fuera “horizontal” y utilizan el protocolo de la capa Es probable que cada uno tenga procedimientos llamados EnviarAlOtroLado y RecibirDelOtroLado, aun cuando en realidad estos procedimientos se comunican con las capas inferiores a través de la interfaz de las capas 3-4, no con el otro lado. La abstracción de los procesos de iguales es imprescindible para todo diseño de red. Al usarla, la inmanejable tarea de diseñar toda la red se puede fragmentar en varios problemas de diseño más pequeños y manejables, es decir, el diseño de las capas individuales.
![[Pasted image 20240530024443.png]]
